2018-11-22

## 思考

1. 首部最长为60字节
    - 4位
    - 表示 占 32bit 的数目
    - max(4bit) = max(1111) = 15
    - 15 * 32bit / 8 = 60 byte
    
2. 我作为一个局域网中的一台主机, 当我访问一个网页的时候, 服务器怎么知道要把数据发给局域网的那台机器
    - TODO
    - 还是说: 服务器不知道, 他只知道发送一个固定的ip(公司外网地址), 至于然后发给谁, 
    - TODO

3. IP地址 VS 以太网地址

4. IP VS MAC

5. IP分片
    - 有唯一标识, 是否分片标识, 分片偏移, 
        - 那么 怎么确定当前标识的数据报已接受完毕??
            - 有是否是最后一片的标识
            - 有唯一ID
            - 有 offset 来标明 顺序
            
6. 当TCP发出一个段后, 启动一个定时器, 等待目的端确认收到这个报文段
    - 是系统内核确认 还是 应用程序确认??

7. 校验和检测数据在传输过程中的任何变化
    - ABA问题
    
1. 理解 MSS 可以不一样的问题
    - 只是一个可以发送到对方的最大数据块的长度
    
2. 同时打开情形 和 发送这个情况的原因
    - 同时
    - 长延时
    
2. 当一个服务器进程接受一来自客户进程的服务请求时是如何处理端口的
   
2. 如果多个连接请求同时到达会发生什么情况

3. 发送数据段时
    - 是发送一个数据段必须得到一个确认 才可以发送下一个数据段
    - 还是 一次发送多个数据段, 然后主需要一次确认就可以了
        - 应该是这个
        - TODO
        
4. nagle
    - TODO

5. nagle 造成TCP粘包
    - 为什么
        - 不是立刻发送, 需要组合成一个 MSS
        - TCP 面向连接, 数据流, 无结构
    - 解决
        - 定长
        - 数据长度与数据包
        - 特殊分隔符
    
2. 思考TCP层不会产生数据分片的原因
    - MSS < MTU
    - 主动把数据分成小段再交给网络层
    
3. 既然 TCP 有超时重试机制, 那么数据接收端是如何去重的
    - Seq?
    - TODO
    
1. tcp 分包
    - TODO

