2018-07-20

## JMM java Memory Model(java内存模型)

### 定义
1. Java 虚拟机(JVM)在计算机内存(RAM)中的工作方式
2. **多线程之间共享变量的可见性以及如何在需要的时候对共享变量进行同步**
3. 原始的Java内存模型效率并不是很理想，因此Java1.5版本对其进行了重构，现在的Java8仍沿用了Java1.5的版本。
4. 决定一个线程对共享变量的写入何时对另一个线程可见
5. JMM定义了线程和主内存之间的抽象关系：
    - 线程之间的共享变量存储在主内存（main memory）中，每个线程都有一个私有的本地内存（local memory），
        本地内存中存储了该线程以读/写共享变量的副本
    
### 支撑Java内存模型的基础原理
1. 指令重排序
2. 数据依赖性
3. 内存屏障(Memory Barrier)
4. Happens-before