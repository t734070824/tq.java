2019-02-18

## 索引和算法

### B+Tree 的使用
1. 联合索引
    - 比如以 (a,b) 两列作为索引, 
        - (1,1), (1,2), (2,1), (2,4), (3,1), (3,2)
    - where a=xx and b=xxx
        - 可以使用索引
    - where a=xx
        - 可以使用索引
    - where b=xxx
        - 不可以使用索引
        - b 的值为 1,2,1,3,1,2
2. 覆盖索引
    - **通过 扫描 辅助索引 直接返回数据**
3. MRR(Multi-Range Read)
    - 初步理解 对where条件拆分，**减少通过索引查到过多无用的数据**；
    - 查询索引页叶子节点的主键ID后不是直接读取数据，而是把**满足条件的主键ID进行排序**，
    - 然后在**批量**进行数据查找。
    - 随机IO--> 顺序IO
4. ICP(Index Condition Pushdown)
    - 初步理解在通过辅助索引查询时进一步过滤where其他条件，
    - 前提是where条件的数据在该索引中可以获取到
    - 依赖的是联合索引
    - 总之是 ICP的优化在引擎层就能够过滤掉大量的数据，这样无疑能够减少了对base table和mysql server的访问次数
    - **在ICP之前，Mysql在复合索引中，第一列是范围查询，第二列通常是无法使用索引的，建议第一列是=,<=>,is null。
        而在ICP出来之后，就没有了这个限制。**
5. 哈希索引
6. 全文索引
    - 将存储于数据库中的整本书或者整篇文章的任意内容信息查找出来的技术
    - 使用倒排索引来实现
        - 在 辅助表 存储了 单词和单词自身在一个文档中所在位置之间的映射
            - (单词, 单词所在文档的id)
            - (单词, (单词所在文档的id, 具体文档中的位置))

### 在叶子节点如何查询
1. **二分查找**